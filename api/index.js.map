{
  "version": 3,
  "sources": ["<stdin>", "../node_modules/@remix-run/dev/compiler/shims/react.ts", "../app/entry.server.jsx", "/Users/lorezz/code/_remix/prove/app/root.jsx", "/Users/lorezz/code/_remix/prove/app/routes/image.$fileName.jsx", "/Users/lorezz/code/_remix/prove/app/routes/index.jsx", "../app/lib/unsplash.js", "../app/lib/brandfetch.js", "server-assets-manifest:@remix-run/dev/assets-manifest", "server-entry-module:@remix-run/dev/server-build"],
  "sourcesContent": ["export * from \"@remix-run/dev/server-build\";", "// eslint-disable-next-line import/no-extraneous-dependencies\nimport * as React from \"react\";\nexport { React };\n", "import { RemixServer } from \"@remix-run/react\";\nimport { renderToString } from \"react-dom/server\";\n\nexport default function handleRequest(\n  request,\n  responseStatusCode,\n  responseHeaders,\n  remixContext\n) {\n  let markup = renderToString(\n    <RemixServer context={remixContext} url={request.url} />\n  );\n\n  responseHeaders.set(\"Content-Type\", \"text/html\");\n\n  return new Response(\"<!DOCTYPE html>\" + markup, {\n    status: responseStatusCode,\n    headers: responseHeaders,\n  });\n}\n", "import {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nexport const meta = () => ({\n  charset: \"utf-8\",\n  title: \"New Remix App\",\n  viewport: \"width=device-width,initial-scale=1\",\n});\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <Outlet />\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n", "import puppeteer from 'puppeteer-core';\nimport chrome from 'chrome-aws-lambda';\nconst exePath = '/Applications/Google Chrome.app/Contents/MacOS/Google Chrome';\nexport async function loader({ request, params }) {\n  const url = new URL(request.url);\n  let qs = {};\n  for (const [key, value] of url.searchParams.entries()) {\n    qs[key] = value;\n  }\n  const { preview } = qs;\n  console.log('qs', qs);\n  console.log('params', params);\n  const { fileName } = params;\n  const [name, type] = fileName.split('.');\n  console.log('name', name);\n  const content = `\n  <html>\n  <body>\n    <style>\n      @import url('https://fonts.googleapis.com/css?family=Roboto');\n      body {\n        font-family: 'Roboto', sans-serif;\n        font-size: 16px;\n        margin:0;\n        padding:0;\n        width:100vw;\n        height:100vh;\n        background:${qs?.bg || '#222'};\n        color:#fefefe;\n        display:flex;\n        align-items:center;\n        justify-content:center;\n      }\n    </style>\n    <h1>HELLO WORLD</h1>\n  </body>\n  </html>`;\n\n  let options;\n  let viewport = preview\n    ? { width: 612, height: 252, deviceScaleFactor: 1 }\n    : { width: 2048, height: 1170, deviceScaleFactor: 1 };\n  const isDev = process.env.NODE_ENV\n    ? process.env.NODE_ENV === 'development'\n    : true;\n  console.log('isDev', isDev);\n  if (isDev) {\n    //viewport = { ...viewport, deviceScaleFactor: 0.5 };\n    // viewport = { width: 612, height: 252, deviceScaleFactor: 1 };\n    options = {\n      args: [],\n      executablePath: exePath,\n      headless: true,\n    };\n  } else {\n    options = {\n      args: chrome.args,\n      executablePath: await chrome.executablePath,\n      headless: chrome.headless,\n    };\n  }\n\n  const browser = await puppeteer.launch(options);\n  const page = await browser.newPage();\n  page.setViewport(viewport);\n  await page.setContent(content);\n  const pic = await page.screenshot({\n    // path: `/tmp/${name}-${Date.now()}.${type}`,\n    type: type,\n  });\n  await browser.close();\n  return new Response(pic, {\n    status: 200,\n    headers: {\n      'Content-Type': `image/${type}`,\n    },\n  });\n}\n", "import { json } from '@remix-run/node';\nimport { useActionData, Form, useTransition, Link } from '@remix-run/react';\n\nimport unsplashSearch from '~/lib/unsplash.js';\nimport brandSearch from '~/lib/brandfetch.js';\n\nexport async function action({ request }) {\n  const formData = await request.formData();\n  const values = Object.fromEntries(formData);\n  let results = {};\n  if (values.tags) {\n    const tags = values.tags.trim(); //.split(',');\n    results['tags'] = await unsplashSearch(tags);\n  } else if (values.brand) {\n    const brand = values.brand.trim(); //.split(',');\n    results['brand'] = await brandSearch(brand);\n    console.log('results', results);\n  }\n  return json({ values, results });\n}\n\nexport default function Index() {\n  const transition = useTransition();\n  const actionData = useActionData();\n  const picUrl = `/image/pic.png?bg=pink`;\n  const previewUrl = `/image/pic.png?bg=pink&preview=true`;\n  console.log('actionData', actionData);\n  return (\n    <div\n      style={{\n        fontFamily: 'system-ui, sans-serif',\n        lineHeight: '1.4',\n        width: '100%',\n      }}\n    >\n      <h1>Welcome to Remix</h1>\n      <div\n        style={{\n          // display: 'flex',\n          background: '#fefefe',\n        }}\n      >\n        <div>\n          <div\n            style={{\n              background: 'black',\n              width: 612,\n              height: 252,\n              overflow: 'hidden',\n              backgroundImage: `url(${previewUrl})`,\n              backgroundSize: 'object-fit',\n              backgroundPosition: 'center',\n              backgroundRepeat: 'no-repeat',\n            }}\n          />\n          <a href={picUrl} target=\"preview\">\n            final image\n          </a>\n        </div>\n        <div>\n          <Form method=\"post\">\n            <label>SEARCH UNSPLASH</label>\n            <input\n              type=\"text\"\n              name=\"tags\"\n              required\n              placeholder=\"tags: shoes,bags,phones\"\n            ></input>\n            <button type=\"submit\">\n              {transition.state === 'submitting' ? 'Searching...' : 'Search'}\n            </button>\n          </Form>\n          <hr />\n          <Form method=\"post\">\n            <label>SEARCH BRAND</label>\n            <input\n              type=\"text\"\n              name=\"brand\"\n              required\n              placeholder=\"tags: datocms,cantierecreativo,lorezz.me\"\n            ></input>\n            <button type=\"submit\">\n              {transition.state === 'submitting' ? 'Searching...' : 'Search'}\n            </button>\n          </Form>\n\n          {actionData?.results?.tags &&\n            actionData.results?.tags?.images?.map((img) => (\n              <div key={img.id}>\n                <img src={img.urls.small} alt={img.alt_description} />\n                <p>\n                  {img.author} - {img.descriptions}\n                </p>\n              </div>\n            ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n", "import { createApi } from 'unsplash-js';\nimport { fetch } from '@remix-run/node';\nimport orderBy from 'lodash/orderBy';\n\nconst unsplash = createApi({\n  accessKey: process.env.UNSPLASH_ACCESS_KEY,\n  fetch,\n});\n\nconst search = async (query) => {\n  try {\n    // console.log(\"search\", query);\n    const r = await unsplash.search.getPhotos({\n      query,\n      page: 1,\n      perPage: 10,\n    });\n    const data = r?.response?.results;\n    console.log('data', data);\n\n    if (!data) {\n      return { query, images: [], total: 0 };\n    }\n    const { total } = r?.response;\n    let images = orderBy(data, 'likes', 'desc');\n    images = images.map((image) => {\n      const { id, alt_description, descriptions, urls, user } = image;\n      const author = user?.name;\n      return { id, alt_description, descriptions, urls, author };\n    });\n    return { query, images, total };\n  } catch (err) {\n    console.log('ERROR');\n    console.error(err);\n  }\n};\nexport default search;\n", "import { fetch } from '@remix-run/node';\n\nconst search = async (query) => {\n  try {\n    console.log('brand search', query);\n    const response = await fetch(\n      `https://api.brandfetch.io/v2/brands/${query}`,\n      {\n        headers: {\n          Authorization: `Bearer ${process.env.BRAND_FETCH}`,\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n    const data = await response.json();\n    console.log('DATA', JSON.stringify(data, null, 2));\n\n    if (!data) {\n      return null;\n    }\n\n    return data;\n  } catch (err) {\n    console.log('ERROR');\n    console.error(err);\n  }\n};\nexport default search;\n", "export default {'version':'9b6b25b6','entry':{'module':'/build/entry.client-EHP45Q42.js','imports':['/build/_shared/chunk-ZZDZLYCQ.js','/build/_shared/chunk-6BO74FWO.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-3BRZ3IXA.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/image.$fileName':{'id':'routes/image.$fileName','parentId':'root','path':'image/:fileName','index':undefined,'caseSensitive':undefined,'module':'/build/routes/image.$fileName-22AXPYR5.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/index':{'id':'routes/index','parentId':'root','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/index-D7FYMEU5.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false}},'url':'/build/manifest-9B6B25B6.js'};", "\nimport * as entryServer from \"/Users/lorezz/code/_remix/prove/app/entry.server.jsx\";\nimport * as route0 from \"/Users/lorezz/code/_remix/prove/app/root.jsx\";\nimport * as route1 from \"/Users/lorezz/code/_remix/prove/app/routes/image.$fileName.jsx\";\nimport * as route2 from \"/Users/lorezz/code/_remix/prove/app/routes/index.jsx\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const entry = { module: entryServer };\n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/image.$fileName\": {\n      id: \"routes/image.$fileName\",\n      parentId: \"root\",\n      path: \"image/:fileName\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/index\": {\n      id: \"routes/index\",\n      parentId: \"root\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route2\n    }\n  };"],
  "mappings": "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",
  "names": []
}
